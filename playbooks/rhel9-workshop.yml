---

- import_playbook: rhel9-settings.yml
  tags: settings

- import_playbook: rhel9-prep.yml
  tags: prep

- import_playbook: rhel9-unit-wayland.yml
  when: workshop_vars.enable_unit.wayland
  tags: wayland

- import_playbook: rhel9-unit-appstream.yml
  when: workshop_vars.enable_unit.appstream
  tags: appstream

- import_playbook: rhel9-unit-systemd.yml
  when: workshop_vars.enable_unit.systemd
  tags: systemd

- import_playbook: rhel9-unit-firewalld.yml
  when: workshop_vars.enable_unit.firewalld
  tags: firewalld

- import_playbook: rhel9-unit-nftables.yml
  when: workshop_vars.enable_unit.nftables
  tags: nftables

- import_playbook: rhel9-unit-ebpf.yml
  when: workshop_vars.enable_unit.ebpf
  tags: ebpf

- import_playbook: rhel9-unit-boom.yml
  when: workshop_vars.enable_unit.boom
  tags: boom

- import_playbook: rhel9-unit-podman.yml
  when: workshop_vars.enable_unit.podman
  tags: podman

- import_playbook: rhel9-unit-buildah.yml
  when: workshop_vars.enable_unit.buildah
  tags: buildah

- import_playbook: rhel9-unit-stratis.yml
  when: workshop_vars.enable_unit.stratis
  tags: stratis

- import_playbook: rhel9-unit-tlog.yml
  when: workshop_vars.enable_unit.tlog
  tags: tlog

- import_playbook: rhel9-unit-lvm-vdo.yml
  when: workshop_vars.enable_unit.vdo
  tags: vdo

- import_playbook: rhel9-unit-imagebuilder.yml
  when: workshop_vars.enable_unit.imagebuilder
  tags: osbuild

- import_playbook: rhel9-unit-virtualization.yml
  when: workshop_vars.enable_unit.virtualization
  tags: virt

- import_playbook: rhel9-unit-kpatch.yml
  when: workshop_vars.enable_unit.kpatch
  tags: kpatch

- import_playbook: rhel9-unit-leapp.yml
  when: workshop_vars.enable_unit.leapp
  tags: leapp

- import_playbook: rhel9-finish.yml
  tags: finish

## Save the webconsole for last since it will discconect webconsole session on service restart

- import_playbook: rhel9-unit-webconsole.yml
  when: workshop_vars.enable_unit.webconsole
  tags: webconsole
